# 快速开始

## 安装

```
npm i
```

## 启动

```
npm run start
```

# 接口列表

## 基金搜索

**路由**

`/fundSearch`

**参数**

`m` 搜索类别

- 搜基金: `1`
- 按字母公司搜基金: `3`
- 搜基金经理: `7`
- 搜基金公司: `8`

`key`: 关键字，当值为`3`时,仅`a-z`有效

**结果**
`/fundSearch?m=1&key=11`

```
[{
  "_id": "110003",
  "CODE": "110003",
  "NAME": "易方达上证50增强A",
  "JP": "YFDSZ50ZQA",
  "CATEGORY": 700,
  "CATEGORYDESC": "基金",
  "STOCKMARKET": "",
  "BACKCODE": "",
  "MatchCount": 1,
  "FundBaseInfo": {
    "_id": "110003",
    "DWJZ": 2.0939,
    "FCODE": "110003",
    "FSRQ": "2021-08-30",
    "FTYPE": "指数型-股票",
    "FUNDTYPE": "001",
    "ISBUY": "1",
    "JJGS": "易方达基金",
    "JJGSBID": 4,
    "JJGSID": "80000229",
    "JJJL": "张胜记",
    "JJJLID": "30057450",
    "MINSG": 10,
    "NAVURL": "http://fund.eastmoney.com/ZS_jzzzl.html#os_0;isall_0;ft_;pt_5",
    "OTHERNAME": "易方达50指数,易方达上证50增强,易方达上证50指数,易方达上证50指数A,易基50,易基50增强A,易基50指数,易基50指数A",
    "SHORTNAME": "易方达上证50增强A"
  },
  "StockHolder": "",
  "ZTJJInfo": [
    {
    "TTYPE": "BK0438",
    "TTYPENAME": "食品饮料"
    }
  ]
}]
```

`/fundSearch?m=7&key=w`

```
[{
  "MgrId": "30728448",
  "MgrName": "徐维君",
  "AbbName": "XWJ",
  "JJGS": "方正富邦基金",
  "JJGSID": "80174741",
  "MatchCount": 2
}]
```

`/fundSearch?m=3&key=w`

```
[{
  "JJGSID": "81052915",
  "JJGS": "安信证券资产",
  "JJGSJP": "",
  "GSJJBID": null,
  "QXJJ": [
    {
    "_id": "970003",
    "FCODE": "970003",
    "SHORTNAME": "安信瑞鸿中短债A"
    }
  ]
}]
```

`/fundSearch?m=8&key=w`

```
[{
  "JJGSID": "80000031",
  "JJGS": "东吴证券",
  "JJGSJP": "DWZQ",
  "GSJJBID": "",
  "QXJJ": null
}]
```

## 获取基金列表（按字母）

**路由**

`/fundNetList`

**参数**

`fundtype`: 基金类型

- 全部: `0`
- 股票: `25`
- 混合: `27`
- 货币: `35`
- QDII: `6`
- LOF: `4`
- 理财: `2949`

`SortColumn`: 排序列

- 日涨幅: `RDZF`
- 最新净值: `DWJZ`

`Sort`: 排序方式

- 降序: `desc`
- 升序: `asc`

`Letter`: 字母排序

- 全部: 不写
- A: `a`
- B: `b`
- 以此类推到`z`

`companyid`: 基金公司 id

`pageIndex`: 页码

`pagesize`: 每页条数

## 获取基金列表（按类型）

**路由**

`/fundMNNetNewList`

**参数**

`fundtype`: 基金类型

- 全部: `0`
- 股票: `25`
- 混合: `27`
- 货币: `35`
- QDII: `6`
- LOF: `4`
- 理财: `2949`

`SortColumn`: 排序列

- 最新净值: `HLDWJZ`
- 七日年化: `LJJZ`

`Sort`: 排序方式

- 降序: `desc`
- 升序: `asc`

`Letter`: 字母排序

- 全部: 不写
- A: `a`
- B: `b`
- 以此类推到`z`

`companyid`: 基金公司 id

`pageIndex`: 页码

`pagesize`: 每页条数

## 获取基金列表(所有-简单)

**路由**

`/fundSuggestList`

## 获取基金公司列表（所有）

**路由**

`/fundCompanyBaseList`

## 获取基金简介

**路由**

`/fundMNStopWatch`
**参数**

`FCODE`: 基金代码

```
{
  "FCODE": "580007",
  "SHORTNAME": "东吴安享量化混合",
  "ABBTNAME": "DONGWUANXIANGLIANGHUAHUNHE",
  "P": "F",
  "T": "H",
  "F": "--",
  "FTYPE": "混合型-灵活",
  "BACKCODE": "--",
  "REALSGCODE": "--",
  "QDTCODE": "--",
  "LISTTEXCH": "--",
  "FEATURE": "215",
  "TSRQ": "--",
  "INDEXCODE": "--",
  "INDEXNAME": "--",
  "INDEXTEXCH": "--",
  "BFUNDTYPE": "002",
  "ESTABDATE": "2010-06-29",
  "ISPTP": "--"
}
```

## 基金主题

### 获取基金主题列表

**路由**

`/fundMNSubjectList`

### 获取热门主题

> app 底部提示数据来源来自 choice
> **路由**

`/fundThemeList`
**参数**

`RankItems`: 时间

- 涨幅（实时）: `ZDF`
- 涨幅（近 1 周）: `SYL_W`
- 涨幅（近 1 月）: `SYL_M`
- 涨幅（近 3 月）: `SYL_Q`
- 涨幅（近 1 年）: `SYL_1N`
- 涨幅（近 1 年）: `SYL_1N`
- 涨幅（今年来）: `SYL_JN`
- 资金流（实时）: `Cinflow`
- 资金流（近 1 周）: `Cinflow_W`
- 涨速（3 分钟）: `ZS_3`
- 涨速（5 分钟）: `ZS_5`

`RankVectors`: 排序

- 降序: `desc`
- 升序: `asc`

`category` 类别

- 全部: `2`
- 行业: `0`
- 概念: `1`

### 获取主题焦点

> app 底部提示数据来源来自 choice
> **路由**

`/fundThemeFocusList`

**参数**

`code`: 焦点所属 code （没找到在哪，可不填）

## 排行

### 获取基金排行

**路由**

`/fundMNRank`

**参数**

`FundType`: 类型

- 全部： `0`
- 股票： `25`
- 混合 `27`
- 指数 `26`
- 债券 `31`
- 货币 `35`
- QDII: `6`
- ETF: `3`
- 接联: `33`
- FOF: `15`
- LOF: `4`
- 商品: `50`
- 定开债: `32`
- 理财: `2949`

`SortColumn`: 排序字段

- 收益（全部 股票 混合 指数 债券 货币 QDLL ETF 接联 FOF LOF 商品 定开债 理财）

    - 收益率(近 1 周): `SYL_Z`
    - 收益率(近 1 月): `SYL_Y`
    - 收益率(近 3 月): `SYL_3Y`
    - 收益率(近 6 月): `SYL_6Y`
    - 收益率(今年来): `SYL_JN`
    - 收益率(近 1 年): `SYL_1N`
    - 收益率(近 2 年): `SYL_2N`
    - 收益率(近 3 年): `SYL_3N`
    - 收益率(近 5 年): `SYL_5N`
    - 收益率(成立以来): `SYL_LN`
    - 规模: `ENDNAV`

- 净值涨幅（全部 股票 混合 指数 债券 QDLL ETF 接联 FOF LOF 商品 定开债）

    - 净值: `HLDWJZ`
    - 日涨幅: `RZDF`

- 年化 (货币 35 理财 2949)

    - 万份收益: `DWJZ`
    - 7 日年化: `LJJZ`
    - 14 日年化: `FTYI`
    - 28 日年化: `TEYI`
    - 35 日年化: `TFYI`

- 封闭期开放日 (定开债 32)

    - 封闭期: `CYCLE`
    - 下一个开放日: `KFR`

- 定投（全部 股票 混合 QDLL 债券 指数）

    - 定投（普通定投 近 1 年）: `PTDT_Y`
    - 定投（普通定投 近 2 年）: `PTDT_TWY`
    - 定投（普通定投 近 3 年）: `PTDT_TRY`
    - 定投（普通定投 近 5 年）: `PTDT_FY`

    - 定投（智慧定投 近 1 年）: `DWDT_Y`
    - 定投（智慧定投 近 2 年）: `DWDT_TWY`
    - 定投（智慧定投 近 3 年）: `DWDT_TRY`
    - 定投（智慧定投 近 5 年）: `DWDT_FY`

    - 定投（目标止盈 近 1 年）: `MBDT_Y`
    - 定投（目标止盈 近 2 年）: `MBDT_TWY`
    - 定投（目标止盈 近 3 年）: `MBDT_TRY`
    - 定投（目标止盈 近 5 年）: `MBDT_FY`

    - 定投（移动止盈 近 1 年）: `YDDT_Y`
    - 定投（移动止盈 近 2 年）: `YDDT_TWY`
    - 定投（移动止盈 近 3 年）: `YDDT_TRY`
    - 定投（移动止盈 近 5 年）: `YDDT_FY`

- 热销（全部 股票 混合 QDLL 债券 指数）

    - 热销（日榜）: `SALESRANK_D`
    - 热销（周榜）: `SALESRANK_Z`
    - 热销（月榜）: `SALESRANK`
    - 热销（季榜）: `SALESRANK_3Y`
    - 热销（半年榜）: `SALESRANK_6Y`
    - 热销（年榜）: `SALESRANK_1N`

- 访问（全部 股票 混合 债券 指数）

    - 访问（日榜）: `PVRANK_D`
    - 访问（周榜）: `PVRANK_Z`
    - 访问（月榜）: `PVRANK_Y`
    - 访问（季榜）: `PVRANK_3Y`

- 定投热销（全部 股票 混合 QDLL 债券 指数）: `DTSALESRANK_Y`

`Sort`: 排序

- 降序: `desc`
- 升序: `asc`

`pageIndex`: 页码 1 开始

`pageSize`: 每页条数

`CompanyId`: 基金公司 id （通过`/fundCompanyBaseList`获取）

`CLTYPE`: 筛选方案（多选用`,`分开，如`022,006`）（通过`/bigDataList`获取）

- 全部: `0`
- 金牛奖: `022`
- 五星评级: `006`
- 2020 年度收益排行: `042`
- 2020 年度收益排行: `024`
- 高股息红利: `029`
- 优质债券: `038`
- 高夏普比率: `021`
- 持续霸榜: `025`
- 沪深 300 指数增强: `030`
- 十年老牌: `031`
- 低回撤: `034`
- 电子信息主题: `044`

`ISABNORMAL`: 是否去除因巨额赎回导致的异常涨幅

- 是: `true`
- 否: `false`

`BUY`: 开放状态

- 可购: `true`
- 全部: `false`

`DISCOUNT`: 申购费率（多选用`,`分开，如`0,1`）可不填为不过滤

- 0 费率: `0`
- 1 折: `1`

`LevelOne`: 股票型类型（多选用`,`分开，如`N050,050`）可不填为不过滤

- 股票型: `N050`
- 股票指数: `050`

`ENDNAV`：基金规模 单位：亿元 （多选用`,`分开，如`1,2`）可不填为不过滤

- 小于等于 2: `1`
- 2-10: `2`
- 10-50: `3`
- 50-100: `4`
- 大于 100: `5`

`RLEVEL_SZ`：基金评级 上海证券评级 （多选用`,`分开，如`5,4`）可不填为不过滤

- 五星: `5`
- 四星: `4`
- 三星: `3`
- 二星: `2`
- 一星: `1`

`ESTABDATE`：成立年限 单位：年 （多选用`,`分开，如`1,2`）可不填为不过滤

- 小于等于 1: `1`
- 1-2: `2`
- 2-3: `3`
- 3-4: `4`
- 4-5: `5`
- 大于 5: `6`

`TOPICAL`：基金主题 参考（`/fundMNSubjectList`）（多选用`,`分开，如`BK0735,BK0499`）可不填为不过滤

`RISKLEVEL`：风险类型 （多选用`,`分开，如`1,2`）可不填为不过滤

- 低风险: `1`
- 中低风险: `2`
- 中风险: `3`
- 中高风险: `4`
- 高风险: `5`

**未知参数**

- 如出错请传

    - `DataConstraintType`: `0`

- 可不传
    - `LevelTwo`

### 获取基金排行（香港）

**路由**
`/fundMNHKRank`

**参数**
`FundType`: 类型

- 全部： `0`

`SortColumn`: 排序字段

- 净值: `NAV`
- 币种: `JZCUNIT`
- 日涨幅: `NAVCHGRT`
- 收益率(近 1 周): `W`
- 收益率(近 1 月): `M`
- 收益率(近 3 月): `Q`
- 收益率(今年来): `SY`
- 收益率(近 1 年): `Y`
- 收益率(近 2 年): `TWY`
- 收益率(近 3 年): `TRY`
- 收益率(成立以来): `SE`
- 收益率(近 2 年): `TWY`

`Sort`: 排序

- 降序: `desc`
- 升序: `asc`

`pageIndex`: 页码 1 开始

`pageSize`: 每页条数

`CompanyId`: 基金公司 id （通过`/fundCompanyBaseList`获取）

`CLTYPE`: 筛选方案（多选用`,`分开，如`022,006`）

- 全部: `0`
- 金牛奖: `022`
- 五星评级: `006`
- 2020 年度收益排行: `042`
- 2020 年度收益排行: `024`
- 高股息红利: `029`
- 优质债券: `038`
- 高夏普比率: `021`
- 持续霸榜: `025`
- 沪深 300 指数增强: `030`
- 十年老牌: `031`
- 低回撤: `034`
- 电子信息主题: `044`

`ISABNORMAL`: 是否去除因巨额赎回导致的异常涨幅

- 是: `true`
- 否: `false`

`BUY`: 开放状态

- 可购: `true`
- 全部: `false`

`DISCOUNT`: 申购费率（多选用`,`分开，如`0,1`）可不填为不过滤

- 0 费率: `0`
- 1 折: `1`

`LevelOne`: 股票型类型（多选用`,`分开，如`N050,050`）可不填为不过滤

- 股票型: `N050`
- 股票指数: `050`

`ENDNAV`：基金规模 单位：亿元 （多选用`,`分开，如`1,2`）可不填为不过滤

- 小于等于 2: `1`
- 2-10: `2`
- 10-50: `3`
- 50-100: `4`
- 大于 100: `5`

`RLEVEL_SZ`：基金评级 上海证券评级 （多选用`,`分开，如`5,4`）可不填为不过滤

- 五星: `5`
- 四星: `4`
- 三星: `3`
- 二星: `2`
- 一星: `1`

`ESTABDATE`：成立年限 单位：年 （多选用`,`分开，如`1,2`）可不填为不过滤

- 小于等于 1: `1`
- 1-2: `2`
- 2-3: `3`
- 3-4: `4`
- 4-5: `5`
- 大于 5: `6`

`TOPICAL`：基金主题 参考（`/fundMNSubjectList`）（多选用`,`分开，如`BK0735,BK0499`）可不填为不过滤

`RISKLEVEL`：风险类型 （多选用`,`分开，如`1,2`）可不填为不过滤

- 低风险: `1`
- 中低风险: `2`
- 中风险: `3`
- 中高风险: `4`
- 高风险: `5`

**未知参数**

- 如出错请传

    - `DataConstraintType`: `0`

- 可不传
    - `LevelTwo`

## 大数据

### 获取大数据榜单

**路由**

`/bigDataList`

**参数**

`ClCategory：` 类型

- 全部榜单：`0`
- 独家数据：`1`
- 策略精选：`2`
- 主题热榜：`3`

**结果**

```js
[{
  "ClType": "001",
  "SType": "5",
  "ClCategory": "1",
  "Title": "大家都在买",
  "SubTitle": "近1月购买人数最多",
  "SubColor": "#999999",
  "Text": "热销",
  "IsTextShow": "0",
  "Description": "展示近一月购买人数最多的基金，并显示基金即时的近一年收益率。销量数据来自天天基金平台。（数据榜单仅供参考，过往业绩不预示未来表现，不构成任何投资建议。投资者据此购买的，风险自担。)",
  "FontColor": "#FF4400",
  "FundCode": "161725",
  "FundName": "招商中证白酒指数(LOF)A",
  "SYL": "54",
  "ShowunitMark": "万人",
  "PeriodText": "购买",
  "Link": {
    "LinkType": 1,
    "AdId": 0,
    "LinkTo": "fund://mp.1234567.com.cn/weex/81b5a1d2a2f14d968dedf3ffdf5a6426/pages/strategyPage?tacticsType=001&Stype=5",
    "IsVerifyLogin": false,
    "WapLink": ""
  }
}]
```

### 获取大数据榜单数据详情

**路由**

`/bigDataDetail`

**参数**

`cltype` 榜单id （通过 `/bigDataList` 获取）

## 基金

### 获取基金详情

**路由**

`/fundMNDetailInformation`

**参数**

`FCODE` 基金code

**结果**

```js
{
  "Datas": {
    "FCODE": "003834", // 基金代码
    "FEATURE": "--",
    "CYCLE": "--",
    "WEBBACKCODE": "--",
    "SHORTNAME": "华夏能源革新股票A", // 基金名
    "FULLNAME": "华夏能源革新股票型证券投资基金", // 全称
    "FTYPE": "股票型", // 基金类型
    "ESTABDATE": "2017-06-07", // 成立日期
    "ENDNAV": "18434368978.8", // 最新规模
    "FEGMRQ": "2022-03-31",
    "RLEVEL_SZ": "3", // 最新评级
    "RISKLEVEL": "5",
    "JJGS": "华夏基金", // 基金公司
    "TGYH": "建设银行", // 托管人
    "JJGSID": "80000222",
    "JJJL": "郑泽鸿", // 基金经理
    "NETNAV": "1482233462.89",
    "BENCH": "中证内地新能源指数收益率*90%+上证国债指数收益率*10%",
    "INDEXCODE": "--",
    "INDEXNAME": "--",
    "PRSVPERIOD": "--",
    "PRSVDATE": "--",
    "PRSVTYPE": "--",
    "BUYTIME": "--",
    "MGREXP": "1.50%",
    "TRUSTEXP": "0.25%",
    "SALESEXP": "0.00%",
    "PERFCMP": "中证内地新能源指数收益率*90%+上证国债指数收益率*10%", // 业绩比较基准
    "INVTGT": "通过精选能源革新的优质企业,在严格控制风险的前提下,力求实现基金资产的长期稳健增值。", // 投资目标
    "INVSTRA": "资产配置策略\r\n本基金通过对宏观经济环境、政策形势、证券市场走势的综合分析,主动判断市场时机,进行积极的资产配置,合理确定基金在股票、债券等各类资产类别上的投资比例,并随着各类资产风险收益特征的相对变化,适时进行动态调整。\n股票投资策略\r\n(1)能源革新主题的界定本基金投资的能源革新主题界定如下:①直接从事新能源产业相关的行业,包括新能源汽车、太阳能、光伏、风能、核能、水能、电力、页岩气、绿色照明、生物资源、天然气发电、地热、垃圾发电、氢能、锂电池、垃圾发电、储能、智能电网、节能环保等。投资标的涵盖新能源产业链的上中下游,包括上游资源类、中游材料类、以及下游运营类上市公司。\r\n②受益于能源革新主题的行业,包括:从传统行业向新能源行业逐步转型的公司;因与新能源主题相关的产业结构升级、消费生活模式转变而受益的其他上市公司。\r\n③新能源推广及其服务行业,包括:为新能源行业提供服务的大金融行业,已经或者计划采用新能源技术的电信设备通讯、电力及电力设备行业,以及为新能源产品销售提供支持的商业、贸易和物流行业等。\r\n鉴于科学技术发展和产业结构升级等因素,能源革新主题的范围可能会发生扩大或者变化,未来如果基金管理人认为有更适当的能源革新主题的界定方法,基金管理人有权对能源革新主题的界定方法进行变更,并在招募说明书更新中公告,不需召开持有人大会。\r\n(2)个股选择\r\n基金将采用定性和定量相结合的方式,精选能源革新主题下的优质个股进行重点投资。\r\n①定性分析主要从公司所在行业的发展特点及公司的行业地位、公司的核心竞争力、公司的经营能力和治理结构等方面进行分析。\r\n②定量分析主要从公司的盈利能力、增长能力、偿债能力、营运能力以及估值水平等方面进行分析。\r\n对于存托凭证投资,本基金将在深入研究的基础上,通过定性分析和定量分析相结合的方式,精选出具有比较优势的存托凭证。" // 投资策略
  }
}
```
### 获取基金评级

**路由**

`/fundGradeDetail`

**参数**

`FCODE` 基金code

`pageIndex` 页码 1 开始

`pageSize` 每页条数

**结果**

```js
{
  "Datas": [{
    "RDATE": "2022-04-03", // 评级日期
    "HTPJ": "", // 
    "ZSPJ": "5", // 招商证券
    "SZPJ3": "", // 上海证券
    "JAPJ": "" // 济安金信
  }]
}
```

### 获取基金涨幅

**路由**

`/fundMNPeriodIncrease`

**参数**

`FCODE` 基金code

`RANGE` 范围
  - `'n'` 年度涨幅 3n表示3年
  - `'y'` 月度涨幅 3y表示3个月
  - `` 不写为阶段涨幅

**结果**

```js
{
  "Datas": [{
    "title": "2021年度", // 具体周期 或者  Z 近一周  Y 近一月  3Y 近三月  6Y 近六月  1N 近1年  2N 近2年  3N 近3年  5N 近5年  JN 今年来  LN 成立来
    "syl": "43.7292", // 涨跌幅%
    "avg": "7.90", // 同类评价%
    "hs300": "-5.1986",
    "rank": "26", // 同类排行
    "sc": "748", // 同类数量
    "diff": null
  }]
}
```

### 获取基金同类排名走势

**路由**

`/fundRankDiagram`

**参数**

`FCODE` 基金code

`RANGE` 范围
- `'n'` 年度涨幅 3n表示3年
- `'y'` 月度涨幅 3y表示3个月
- `` 不写为所有

**结果**

```js
{
  "Datas": [{
    "PDATE": "2017-09-07", // 日期
    "QRANK": "18", // 同类排名
    "QSC": "230" // 同类数量
  }]
}
```

### 获取基金的基金经理

**路由**

`/fundMNMangerList`

**参数**

`FCODE` 基金code

**结果**

```js
{
  "Datas": [{
    "MGRID": "30040539,30675033,30725205", // 基金经理id列表
    "MGRNAME": "周蔚文,罗佳明,刘伟伟", // 基金经理名字
    "FCODE": "004241", // 基金代码
    "DAYS": "158", // 管理天数
    "FEMPDATE": "2021-12-17", // 管理开始时间
    "LEMPDATE": "--", // 管理结束时间
    "PENAVGROWTH": "-26.0088", // 任职回报
    "NEWPHOTOURL": "https://pdf.dfcfw.com/pdf/H8_30040539_1.JPG,https://pdf.dfcfw.com/pdf/H8_30675033_1.JPG,https://pdf.dfcfw.com/pdf/H8_30725205_1.PNG", // 基金经理头像
    "ISINOFFICE": "1,1,1"
  }]
}
```
